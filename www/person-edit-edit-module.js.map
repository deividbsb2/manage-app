{"version":3,"sources":["webpack:///./src/app/person/edit/edit.module.ts","webpack:///./src/app/person/edit/edit.page.html","webpack:///./src/app/person/edit/edit.page.scss","webpack:///./src/app/person/edit/edit.page.ts"],"names":[],"mappings":"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","file":"person-edit-edit-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditPage } from './edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [EditPage]\n})\nexport class EditPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Editar Pessoa</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <form [formGroup]=\\\"personForm\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Nome</ion-label>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"name\\\" required></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">CPF</ion-label>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"cpf\\\" required></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">RG</ion-label>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"rg\\\" required></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Anivers√°rio</ion-label>\\n      <ion-datetime cancel-text=\\\"Fechar\\\" done-text=\\\"Escolher\\\" display-format=\\\"DD/MM/YYYY\\\" picker-format=\\\"DD MM YYYY\\\" formControlName=\\\"birthday\\\" required></ion-datetime>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Perfil</ion-label>\\n      <ion-select value=\\\"1\\\" okText=\\\"Escolher\\\" cancelText=\\\"Fechar\\\" formControlName=\\\"profile_id\\\" required>\\n        <ion-select-option *ngFor=\\\"let profile of profiles\\\" [value]=\\\"profile.id\\\">{{profile.name}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <ion-button shape=\\\"round\\\" color=\\\"primary\\\" expand=\\\"block\\\" [disabled]=\\\"!personForm.valid\\\" (click)=\\\"save()\\\">Salvar</ion-button>\\n  </form>\\n</ion-content>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { PersonService } from '../shared/person.service';\nimport { ProfileService } from '../shared/profile.service';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.page.html',\n  styleUrls: ['./edit.page.scss'],\n})\nexport class EditPage implements OnInit {\n  personForm: FormGroup;\n  profiles: any;\n\n  constructor(\n    public personService: PersonService,\n    public profileService: ProfileService,\n    public loadingController: LoadingController,\n    private route: ActivatedRoute,\n    public router: Router,\n    private formBuilder: FormBuilder,\n    public toastController: ToastController\n  ) {\n    this.personForm = this.formBuilder.group({\n      'name': [null, Validators.required],\n      'cpf': [null, Validators.required],\n      'rg': [null, Validators.required],\n      'birthday': [null, Validators.required],\n      'profile_id': [null, Validators.required]\n    });\n  }\n\n  ngOnInit() {\n    this.getPerson(+this.route.snapshot.paramMap.get('id'));\n    this.getProfiles();\n  }\n\n  async getPerson(id: number) {\n    const loading = await this.loadingController.create({\n      message: 'Loading'\n    });\n    await loading.present();\n    await this.personService.getById(id).subscribe(res => {\n      this.personForm.reset(res);\n      console.log(this.personForm);\n      loading.dismiss();\n    }, err => {\n      console.log(err);\n      loading.dismiss();\n      this.presentToast('Erro ao consultar. Tente novamente!');\n    });\n  }\n\n  async getProfiles() {\n    const loading = await this.loadingController.create({\n      message: 'Loading'\n    });\n    await loading.present();\n    await this.profileService.getAll()\n      .subscribe(res => {\n        console.log(res);\n        this.profiles = res;\n        loading.dismiss();\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n        this.presentToast('Erro ao consultar. Tente novamente!');\n      });\n  }\n\n  async save() {\n    await this.personService.put(+this.route.snapshot.paramMap.get('id'), this.personForm.value)\n      .subscribe(res => {\n        const id = res['id'];\n        this.router.navigate(['/detail-person', JSON.stringify(id)]);\n      }, (err) => {\n        console.log(err);\n        this.presentToast('Erro ao salvar. Tente novamente!');\n      }, () => { this.presentToast('Pessoa atualizada com sucesso!'); });\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000,\n      showCloseButton: true,\n      closeButtonText: 'Fechar'\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":""}