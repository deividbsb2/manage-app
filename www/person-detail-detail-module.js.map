{"version":3,"sources":["webpack:///./src/app/person/detail/detail.module.ts","webpack:///./src/app/person/detail/detail.page.html","webpack:///./src/app/person/detail/detail.page.scss","webpack:///./src/app/person/detail/detail.page.ts"],"names":[],"mappings":"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","file":"person-detail-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailPage } from './detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DetailPage]\n})\nexport class DetailPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Pessoa</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>{{person.name}}</ion-card-title>\\n      <ion-card-subtitle>Perfil: {{person.profile.name}}</ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label>Aniversário: {{person.birthday | date:'dd/MM/yyyy'}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>RG: {{person.rg}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>CPF: {{person.cpf}}</ion-label>\\n      </ion-item>\\n      <ion-button routerLink=\\\"/edit-person/{{person.id}}\\\" shape=\\\"round\\\" color=\\\"primary\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"create\\\"></ion-icon>\\n        Editar\\n      </ion-button>\\n      <ion-button (click)=\\\"confirm(person.id)\\\" shape=\\\"round\\\" color=\\\"danger\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"trash\\\"></ion-icon>\\n        Excluir\\n      </ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoadingController, ToastController, AlertController } from '@ionic/angular';\n\nimport { PersonService } from '../shared/person.service';\nimport { Person } from '../shared/person';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.page.html',\n  styleUrls: ['./detail.page.scss'],\n})\nexport class DetailPage implements OnInit {\n  person: Person;\n\n  constructor(\n    public personService: PersonService,\n    public loadingController: LoadingController,\n    public route: ActivatedRoute,\n    public router: Router,\n    public toastController: ToastController,\n    public alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    this.getPerson();\n  }\n\n  async getPerson() {\n    const loading = await this.loadingController.create({\n      message: 'Loading'\n    });\n    await loading.present();\n    await this.personService.getById(+this.route.snapshot.paramMap.get('id'))\n      .subscribe(res => {\n        console.log(res.name);\n        this.person = res;\n        loading.dismiss();\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n        this.presentToast('Erro ao consultar. Tente novamente!');\n      });\n  }\n\n  async delete(id: number) {\n    const loading = await this.loadingController.create({\n      message: 'Deleting'\n    });\n    await loading.present();\n    await this.personService.delete(id)\n      .subscribe(res => {\n        loading.dismiss();\n        this.router.navigate(['/list-people']);\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n        this.presentToast('Erro ao excluir. Tente novamente!');\n      }, () => {\n        this.presentToast('Pessoa excluída com sucesso!');\n      });\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000,\n      showCloseButton: true,\n      closeButtonText: 'Fechar'\n    });\n    toast.present();\n  }\n\n  async confirm(id: number) {\n    const alert = await this.alertController.create({\n      header: 'Atenção!',\n      message: `Deseja realmente excluir <strong>${this.person.name}</strong>?`,\n      backdropDismiss: true,\n      buttons: [\n        {\n          text: 'Não',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => { }\n        }, {\n          text: 'Sim',\n          handler: () => {\n            this.delete(id);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n}\n"],"sourceRoot":""}