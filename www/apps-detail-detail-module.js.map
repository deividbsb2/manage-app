{"version":3,"sources":["webpack:///./src/app/apps/detail/detail.module.ts","webpack:///./src/app/apps/detail/detail.page.html","webpack:///./src/app/apps/detail/detail.page.scss","webpack:///./src/app/apps/detail/detail.page.ts","webpack:///./src/app/shared/api.service.ts"],"names":[],"mappings":"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","file":"apps-detail-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailPage } from './detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DetailPage]\n})\nexport class DetailPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Aplicativo</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>{{app.name}}</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label>Data do cadastro: {{app.created_at | date:'dd/MM/yyyy'}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>Bundle ID: {{app.bundle_id}}</ion-label>\\n      </ion-item>\\n      <ion-button routerLink=\\\"/edit-app/{{app.id}}\\\" shape=\\\"round\\\" color=\\\"primary\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"create\\\"></ion-icon>\\n        Editar\\n      </ion-button>\\n      <ion-button (click)=\\\"confirm(app.id)\\\" shape=\\\"round\\\" color=\\\"danger\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"trash\\\"></ion-icon>\\n        Excluir\\n      </ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoadingController, ToastController, ActionSheetController, AlertController } from '@ionic/angular';\n\nimport { AppService } from '../shared/app.service';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.page.html',\n  styleUrls: ['./detail.page.scss'],\n})\nexport class DetailPage implements OnInit {\n  app: any = {};\n\n  constructor(\n    public appService: AppService,\n    public loadingController: LoadingController,\n    public route: ActivatedRoute,\n    public router: Router,\n    public toastController: ToastController,\n    public actionSheetController: ActionSheetController,\n    public alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    this.getApp();\n  }\n\n  async getApp() {\n    const loading = await this.loadingController.create({\n      message: 'Loading'\n    });\n    await loading.present();\n    await this.appService.getById(+this.route.snapshot.paramMap.get('id'))\n      .subscribe(res => {\n        console.log(res);\n        this.app = res;\n        loading.dismiss();\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n        this.presentToast('Erro ao consultar. Tente novamente!');\n      });\n  }\n\n  async delete(id: number) {\n    const loading = await this.loadingController.create({\n      message: 'Deleting'\n    });\n    await loading.present();\n    await this.appService.delete(id)\n      .subscribe(res => {\n        loading.dismiss();\n        this.router.navigate(['/list-apps']);\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n        this.presentToast('Erro ao excluir. Tente novamente!');\n      }, () => {\n        this.presentToast('Aplicativo excluído com sucesso!');\n      });\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000,\n      showCloseButton: true,\n      closeButtonText: 'Fechar'\n    });\n    toast.present();\n  }\n\n  async confirm(id: number) {\n    const alert = await this.alertController.create({\n      header: 'Atenção!',\n      message: `Deseja realmente excluir <strong>${this.app.name}</strong>?`,\n      backdropDismiss: true,\n      buttons: [\n        {\n          text: 'Não',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => { }\n        }, {\n          text: 'Sim',\n          handler: () => {\n            this.delete(id);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, throwError } from 'rxjs';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { catchError, tap, map } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\nconst apiUrl = environment.apiUrl;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n\n  constructor(private http: HttpClient) { }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError('Something bad happened; please try again later.');\n  }\n\n  private extractData(res: Response) {\n    let body: any = res;\n    if (body.data) {\n      body = body.data;\n    }\n    return body || {};\n  }\n\n  getAll(route: string): Observable<any> {\n    return this.http.get(`${apiUrl}/${route}`, httpOptions).pipe(\n      map(this.extractData),\n      catchError(this.handleError));\n  }\n\n  getById(route: string, id: number): Observable<any> {\n    const url = `${apiUrl}/${route}/${id}`;\n    return this.http.get(url, httpOptions).pipe(\n      map(this.extractData),\n      catchError(this.handleError));\n  }\n\n  post(route: string, data): Observable<any> {\n    const url = `${apiUrl}/${route}`;\n    return this.http.post(url, data, httpOptions)\n      .pipe(\n        catchError(this.handleError)\n      );\n  }\n\n  put(route: string, id: number, data): Observable<any> {\n    const url = `${apiUrl}/${route}/${id}`;\n    return this.http.put(url, data, httpOptions)\n      .pipe(\n        catchError(this.handleError)\n      );\n  }\n\n  delete(route: string, id: number): Observable<{}> {\n    const url = `${apiUrl}/${route}/${id}`;\n    return this.http.delete(url, httpOptions)\n      .pipe(\n        catchError(this.handleError)\n      );\n  }\n}\n"],"sourceRoot":""}