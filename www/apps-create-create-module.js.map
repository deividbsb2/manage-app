{"version":3,"sources":["webpack:///./src/app/apps/create/create.module.ts","webpack:///./src/app/apps/create/create.page.html","webpack:///./src/app/apps/create/create.page.scss","webpack:///./src/app/apps/create/create.page.ts","webpack:///./src/app/shared/api.service.ts"],"names":[],"mappings":"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","file":"apps-create-create-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreatePage } from './create.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreatePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CreatePage]\n})\nexport class CreatePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Adicionar Aplicativo</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <form [formGroup]=\\\"appForm\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Nome</ion-label>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"name\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Bundle ID</ion-label>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"bundle_id\\\"></ion-input>\\n    </ion-item>\\n    <ion-button shape=\\\"round\\\" color=\\\"primary\\\" expand=\\\"block\\\" [disabled]=\\\"!appForm.valid\\\" (click)=\\\"save()\\\">Salvar</ion-button>\\n  </form>\\n</ion-content>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ToastController } from '@ionic/angular';\n\nimport { AppService } from '../shared/app.service';\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.page.html',\n  styleUrls: ['./create.page.scss'],\n})\nexport class CreatePage implements OnInit {\n  appForm: FormGroup;\n  profiles: any;\n\n  constructor(\n    public appService: AppService,\n    public loadingController: LoadingController,\n    private route: ActivatedRoute,\n    public router: Router,\n    private formBuilder: FormBuilder,\n    public toastController: ToastController\n  ) {\n    this.appForm = this.formBuilder.group({\n      'name': [null, Validators.required],\n      'bundle_id': [null, Validators.required]\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000,\n      showCloseButton: true,\n      closeButtonText: 'Fechar'\n    });\n    toast.present();\n  }\n\n  async save() {\n    console.log(this.appForm.value);\n    await this.appService.post(this.appForm.value)\n      .subscribe(res => {\n        const id = res['id'];\n        this.router.navigate(['/detail-app/' + id]);\n      }, (err) => {\n        console.log(err);\n        this.presentToast('Erro ao salvar. Tente novamente!');\n      }, () => {\n        this.presentToast('Aplicativo cadastrado com sucesso!');\n      });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, throwError } from 'rxjs';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { catchError, tap, map } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\nconst apiUrl = environment.apiUrl;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n\n  constructor(private http: HttpClient) { }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError('Something bad happened; please try again later.');\n  }\n\n  private extractData(res: Response) {\n    let body: any = res;\n    if (body.data) {\n      body = body.data;\n    }\n    return body || {};\n  }\n\n  getAll(route: string): Observable<any> {\n    return this.http.get(`${apiUrl}/${route}`, httpOptions).pipe(\n      map(this.extractData),\n      catchError(this.handleError));\n  }\n\n  getById(route: string, id: number): Observable<any> {\n    const url = `${apiUrl}/${route}/${id}`;\n    return this.http.get(url, httpOptions).pipe(\n      map(this.extractData),\n      catchError(this.handleError));\n  }\n\n  post(route: string, data): Observable<any> {\n    const url = `${apiUrl}/${route}`;\n    return this.http.post(url, data, httpOptions)\n      .pipe(\n        catchError(this.handleError)\n      );\n  }\n\n  put(route: string, id: number, data): Observable<any> {\n    const url = `${apiUrl}/${route}/${id}`;\n    return this.http.put(url, data, httpOptions)\n      .pipe(\n        catchError(this.handleError)\n      );\n  }\n\n  delete(route: string, id: number): Observable<{}> {\n    const url = `${apiUrl}/${route}/${id}`;\n    return this.http.delete(url, httpOptions)\n      .pipe(\n        catchError(this.handleError)\n      );\n  }\n}\n"],"sourceRoot":""}